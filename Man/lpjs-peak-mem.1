\" Generated by script2man from peak-mem
.TH peak-mem 1

.SH NAME    \" Section header
.PP

lpjs peak-mem - Show peak memory use for a completed job

\" Convention:
\" Underline anything that is typed verbatim - commands, etc.
.SH SYNOPSIS
.PP
.nf 
.na
lpjs peak-mem script.lpjs
.ad
.fi

.SH ARGUMENTS
.nf
.na
script.lpjs     An LPJS job script that has been previously completed
.ad
.fi

.SH DESCRIPTION

.B lpjs peak-mem
parses the chaperone logs for the given script, extracting
the periodic peak memory reports, and reports the highest real
memory use in total, and per processor.  It then recommends a
pmem-per-proc requirement for subsequent runs of the script.

Scripts that LPJS terminates for using more memory than they
allocated, and scripts that allocate far more memory than they
actually use (which may prevent other jobs from running, and is
thus is inconsiderate to other cluster/grid users),
are disabled by LPJS until pmem-per-processor is corrected to a
reasonable value.

.SH EXAMPLES
.nf
.na
shell-prompt: lpjs peak-mem 04-trim.lpjs

Peak mem = 113108 KiB = 110 MiB
Processors / job = 2
Peak mem / processor = 55

Use the following for peak memory + 20%:

#lpjs pmem-per-processor 66MiB
.ad
.fi

.SH SEE ALSO

lpjs create-script(1)

