
Allow running compd as non-root
    Only the user running compd can execute jobs on that node
    as only root can impersonate another user using setuid()

systemctl restart lpjs_compd doesn't work
    Waiting a while and running restart again starts the daemon

Make sure non-daemons don't use Log_stream
    Some functions are shared between daemon and non-daemon programs

Don't run dispatchd as root?  Create lpjs account?

Terminate jobs that exceed their resource allocation
    Only if there are jobs in the queue

Report peak resource use compared to specified

Doc:
    Submission: All jobs under one "lpjs submit" command
    Job: An independent computational run
	Serial
	Multithreaded
	MPI

Required submission parameters
    Jobs
    Processors per job
	Processor as defined by sysconf(_SC_NPROCESSORS_CONF)
	or getconf _NPROCESSORS_CONF
    Nodes per job
    pmem per job or pmem per core
    vmem per job or vmem per core
    
    Array: Jobs > 1
    Multithreaded: nodes per job = 1, cores per job = # or "all"
    MPI: Cores per job > 1

lpjs shell

lpjs cancel job|submission #

Basic queuing system
    Core/memory tracking
    Track actual vs stated memory use?

Implement virtual memory limit checks
    Document that this is enforced by ulimit() and unbreakable

Implement real memory limit checks
    Document that this is enforced by periodic sampling

SLURM compatibility module
    Convert sbatch scripts to lpjs and vice versa

